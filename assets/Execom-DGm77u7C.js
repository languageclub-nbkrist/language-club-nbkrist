import{r,j as e}from"./index-DjyqD85j.js";import{H as S,I as k,C as z,U as _,a as A}from"./users-Bh6PhAPb.js";import{L as C}from"./linkedin-zCwF-ILZ.js";const $=()=>e.jsx("div",{className:"flex justify-center items-center p-20",children:e.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-indigo-400"})}),p=({member:a,isPrimary:s=!1})=>{const c=s?"bg-indigo-500/30 p-6":"bg-indigo-500/10 p-4",d=s?"w-32 h-32":"w-24 h-24",x=s?"text-xl":"text-lg",o=s?"text-indigo-200 text-base":"text-indigo-300 text-sm";return e.jsxs("div",{className:`w-full max-w-xs sm:w-72 flex-shrink-0 backdrop-blur-md border border-indigo-500/30 rounded-xl text-center transition-all duration-300 hover:bg-indigo-500/40 hover:shadow-2xl ${c}`,children:[e.jsx("img",{src:a.image_url||`https://placehold.co/128x128/312e81/a5b4fc?text=${a.name.charAt(0)}`,alt:a.name,className:`mx-auto rounded-full object-cover border-4 border-indigo-400/50 mb-4 ${d}`,onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/128x128/312e81/a5b4fc?text=Img"}}),e.jsx("h3",{className:`font-bold text-white ${x}`,children:a.name}),e.jsx("p",{className:`font-semibold ${o}`,children:a.role}),a.linkedin_url&&e.jsxs("a",{href:a.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center text-indigo-300 mt-2 hover:text-white transition-colors",children:[e.jsx(C,{size:16,className:"mr-1"}),"Profile"]})]})};function Y({supabase:a,showMessageBox:s}){const[c,d]=r.useState([]),[x,o]=r.useState(!0),[n,v]=r.useState(null),[b,N]=r.useState([]),[l,u]=r.useState(null),w=[{href:"#home",label:"Home",icon:e.jsx(S,{size:20})},{href:"#about",label:"About",icon:e.jsx(k,{size:20})},{href:"#events",label:"Events",icon:e.jsx(z,{size:20})},{href:"#panel",label:"Panel",icon:e.jsx(_,{size:20})},{href:"#execom",label:"execom",icon:e.jsx(A,{size:20})}];r.useEffect(()=>{window.AOS&&window.AOS.init({duration:1e3,once:!1}),(async()=>{try{if(o(!0),!a)throw new Error("Supabase client is not available.");const{data:i,error:j}=await a.from("execom_members").select("*").order("batch_year",{ascending:!1}).order("order_index",{ascending:!0});if(j)throw j;d(i);const h=[...new Set(i.map(f=>f.batch_year))].sort((f,E)=>E-f);N(h),h.length>0&&u(h[0])}catch(i){console.error("Error fetching execom data:",i.message),v("Failed to load the Execom page. Please try again."),s&&s("error","Failed to load Execom data.")}finally{o(!1)}})()},[a,s]);const m=l?c.filter(t=>t.batch_year===l):[],g=m.find(t=>t.role==="Faculty In-charge"),y=m.filter(t=>t.role!=="Faculty In-charge");return x?e.jsx($,{}):n?e.jsx("div",{className:"text-center text-red-400 p-8 bg-red-900/20 rounded-lg",children:n}):e.jsxs("div",{className:"main-container",children:[e.jsx("div",{className:"mobile-nav-menu",children:w.map(t=>e.jsxs("a",{href:t.href,className:"mobile-nav-link",children:[t.icon,e.jsx("span",{children:t.label})]},t.href))}),e.jsxs("div",{className:"background-container",children:[e.jsx("div",{className:"blob blob-1"}),e.jsx("div",{className:"blob blob-2"}),e.jsx("div",{className:"blob blob-3"})]}),e.jsx("div",{className:"content-wrapper text-gray-200 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("h1",{"data-aos":"fade-up",className:"text-center text-5xl font-bold mb-8 text-white",children:"Executive Committee"}),b.length>1&&e.jsx("div",{"data-aos":"fade-up","data-aos-delay":"100",className:"flex justify-center items-center mb-12",children:e.jsx("div",{className:"bg-black/30 backdrop-blur-sm border border-gray-700 rounded-full p-2 flex items-center space-x-2 overflow-x-auto",children:b.map(t=>e.jsxs("button",{onClick:()=>u(t),className:`px-5 py-2 text-sm font-semibold rounded-full transition-all duration-300 whitespace-nowrap ${l===t?"bg-indigo-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700"}`,children:["Batch ",t]},t))})}),m.length>0?e.jsxs("section",{"data-aos":"fade-up","data-aos-delay":"200",className:"bg-indigo-900/20 backdrop-blur-xl border border-indigo-500/30 rounded-2xl p-6 md:p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:["Batch ",l]}),g&&e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(p,{member:g,isPrimary:!0})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:y.map(t=>e.jsx(p,{member:t},t.id))})]}):e.jsx("div",{className:"text-center text-gray-500 py-16",children:e.jsx("h3",{className:"text-2xl font-semibold",children:"No members found for this year."})})]})})]})}export{Y as default};
