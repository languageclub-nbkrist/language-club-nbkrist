import{r as l,j as e}from"./index-DjyqD85j.js";import{H as I,I as L,C as z,U,a as A}from"./users-Bh6PhAPb.js";const M=()=>e.jsx("div",{className:"flex justify-center items-center p-10",children:e.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-purple-400"})}),O=({event:t,isOpen:a,onClose:i})=>a?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:i,children:e.jsx("div",{className:"bg-[#2a2a2a] rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-purple-500/30 shadow-lg shadow-purple-500/20",onClick:n=>n.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-300",children:t.title}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white text-2xl font-bold transition-colors",children:"Ã—"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:t.detailed_description}),t.event_date&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-200 mb-1",children:"Date & Time"}),e.jsx("p",{className:"text-gray-300",children:new Date(t.event_date).toLocaleString()})]}),t.location&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-200 mb-1",children:"Location"}),e.jsx("p",{className:"text-gray-300",children:t.location})]}),t.gallery_link&&e.jsx("a",{href:t.gallery_link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-4 bg-gradient-to-r from-teal-400 to-blue-500 text-white font-bold py-2 px-6 rounded-lg hover:scale-105 transition-transform",children:"View Gallery or Updates"})]})]})})}):null,T=({images:t=[]})=>{const[a,i]=l.useState(0),n=l.useRef(null),c=()=>{n.current&&clearTimeout(n.current)};l.useEffect(()=>{if(t.length!==0)return c(),n.current=setTimeout(()=>i(o=>(o+1)%t.length),4e3),()=>c()},[a,t.length]);const x=o=>i(o);return t.length===0?e.jsx("div",{className:"w-full h-64 md:h-80 bg-white/10 rounded-lg flex items-center justify-center text-gray-400",children:"No images available"}):e.jsxs("div",{className:"relative w-full h-64 md:h-80 overflow-hidden rounded-lg perspective-1000",children:[t.map((o,r)=>e.jsx("img",{src:o,alt:`Slide ${r+1}`,className:`absolute top-0 left-0 w-full h-full object-contain bg-white p-2 rounded-lg transition-all duration-700 ease-in-out ${r===a?"opacity-100 transform-none":"opacity-0 transform -translate-x-full rotate-y-90"}`},r)),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:t.map((o,r)=>e.jsx("button",{onClick:()=>x(r),className:`w-3 h-3 rounded-full transition-all duration-300 ${r===a?"bg-purple-400 scale-125":"bg-white/50"}`,"aria-label":`Go to slide ${r+1}`},r))})]})};function $({supabase:t}){const[a,i]=l.useState([]),[n,c]=l.useState([]),[x,o]=l.useState([]),[r,b]=l.useState(null),[y,g]=l.useState(!1),[k,h]=l.useState(!0),[f,u]=l.useState(null),E=[{href:"#home",label:"Home",icon:e.jsx(I,{size:20})},{href:"#about",label:"About",icon:e.jsx(L,{size:20})},{href:"#events",label:"Events",icon:e.jsx(z,{size:20})},{href:"#panel",label:"Panel",icon:e.jsx(U,{size:20})},{href:"#execom",label:"execom",icon:e.jsx(A,{size:20})}];l.useEffect(()=>{window.AOS&&window.AOS.init({duration:1e3,once:!1}),(async()=>{if(!t){u("Supabase client is not available."),h(!1);return}try{h(!0),u(null);const{data:m,error:j}=await t.from("club_events").select("*").order("event_date",{ascending:!0});if(j)throw j;const v=new Date,S=(m||[]).filter(d=>new Date(d.event_date)>=v),D=(m||[]).filter(d=>new Date(d.event_date)<v).sort((d,C)=>new Date(C.event_date)-new Date(d.event_date));i(S),c(D);const{data:N,error:w}=await t.from("slideshow_images").select("image_url").order("order_index",{ascending:!0});if(w)throw w;o(N?N.map(d=>d.image_url):[])}catch(m){console.error("Error fetching data:",m.message),u("Failed to load event data. Please try again later.")}finally{h(!1)}})()},[t]);const p=s=>{b(s),g(!0)},_=()=>{g(!1),b(null)};return e.jsxs("div",{className:"main-container",children:[e.jsx("div",{className:"mobile-nav-menu",children:E.map(s=>e.jsxs("a",{href:s.href,className:"mobile-nav-link",children:[s.icon,e.jsx("span",{children:s.label})]},s.href))}),e.jsxs("div",{className:"background-container",children:[e.jsx("div",{className:"blob blob-1"}),e.jsx("div",{className:"blob blob-2"}),e.jsx("div",{className:"blob blob-3"})]}),e.jsxs("div",{className:"content-wrapper text-white min-h-screen p-4 md:p-8",children:[e.jsx("div",{className:"max-w-6xl mx-auto space-y-12",children:k?e.jsx(M,{}):f?e.jsx("p",{className:"text-center text-red-400 bg-red-500/10 p-4 rounded-lg",children:f}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{"data-aos":"fade-up",className:"grid md:grid-cols-2 gap-8 items-center bg-[rgba(26,24,82,0.6)] backdrop-blur-md border border-white/10 rounded-2xl p-8 shadow-2xl shadow-purple-500/10",children:[e.jsxs("div",{className:"text-section",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-purple-300",children:"Language Club Events"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Join us for a journey through languages and cultures! Whether you're a beginner or fluent, there's something for everyone!"}),a.length>0&&e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx("button",{onClick:()=>p(a[0]),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:scale-105 transition-transform shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 active:scale-95",children:"Next Event Info"}),e.jsx("a",{href:a[0].gallery_link||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-teal-400 to-blue-500 text-white font-bold py-3 px-8 rounded-lg hover:scale-105 transition-transform shadow-lg shadow-teal-400/30 hover:shadow-teal-400/50 active:scale-95",children:"Updates"})]})]}),e.jsx("div",{className:"domain-card",children:e.jsx(T,{images:x})})]}),e.jsxs("section",{"data-aos":"fade-up","data-aos-delay":"100",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-6",children:"Upcoming Events"}),a.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map(s=>e.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 border border-purple-400/30 rounded-xl p-6 backdrop-blur-sm transform hover:-translate-y-1 transition-transform duration-300 shadow-lg shadow-purple-500/10",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-200 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-300 mb-4",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-300",children:new Date(s.event_date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",hour:"2-digit",minute:"2-digit",hour12:!0})}),"                                                ",e.jsx("button",{onClick:()=>p(s),className:"text-sm bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded transition-colors",children:"Details"})]})]},s.id))}):e.jsx("p",{className:"text-center text-gray-400 bg-black/20 p-4 rounded-lg",children:"No upcoming events scheduled. Please check back soon!"})]}),e.jsxs("section",{"data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-6",children:"Completed Events"}),n.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(s=>e.jsxs("div",{className:"bg-[rgba(26,24,82,0.4)] border border-white/10 rounded-xl p-6 backdrop-blur-sm transform hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-200 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-300 mb-4",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-300",children:new Date(s.event_date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",hour:"2-digit",minute:"2-digit",hour12:!0})}),"                                                ",e.jsx("button",{onClick:()=>p(s),className:"text-sm bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded transition-colors",children:"Details"})]})]},s.id))}):e.jsx("p",{className:"text-center text-gray-400 bg-black/20 p-4 rounded-lg",children:"No past event data available."})]})]})}),r&&e.jsx(O,{event:r,isOpen:y,onClose:_})]})]})}export{$ as default};
